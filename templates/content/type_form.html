{% extends "iam/base.html" %}

{% block title %}{% if mode == "create" %}New{% else %}Edit{% endif %} Content Type · Contro{% endblock %}

{% block content %}
  <div class="nav">
    <div>
      <div class="title">{% if mode == "create" %}New{% else %}Edit{% endif %} Content Type</div>
      <div class="subtitle">Define the schema container.</div>
    </div>
    <a class="button" href="{% url 'content:type_list' %}">Back to list</a>
  </div>

  <div class="card">
    <form method="post">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div class="form-row">
        <label for="id_name">Name</label>
        {{ form.name }}
        {{ form.name.errors }}
      </div>
      <div class="form-row">
        <label for="id_slug">Slug</label>
        {{ form.slug }}
        {{ form.slug.errors }}
      </div>
      <div class="form-row">
        <label for="id_plural_name">Plural name</label>
        {{ form.plural_name }}
        {{ form.plural_name.errors }}
      </div>
      <div class="form-row">
        <label for="id_description">Description</label>
        {{ form.description }}
        {{ form.description.errors }}
      </div>
      <div class="form-row">
        <label for="id_metadata">Metadata (JSON)</label>
        {{ form.metadata }}
        {{ form.metadata.errors }}
      </div>
      <div class="form-row">
        <label for="id_is_active">Active</label>
        {{ form.is_active }}
        {{ form.is_active.errors }}
      </div>
      <button class="button" type="submit">Save</button>
    </form>
  </div>

  {% if content_type %}
    <div style="margin-top: 16px;">
      <a href="{% url 'content:field_list' content_type.pk %}">Manage fields</a> ·
      <a href="{% url 'content:entry_list' content_type.pk %}">Manage entries</a>
    </div>
  {% endif %}
{% endblock %}
